! function(a) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = a();
    else if ("function" == typeof define && define.amd) define([], a);
    else { var b;
        b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.oauthioWeb = a() } }(function() {
        var a;
        return function b(a, c, d) {
                function e(g, h) { if (!c[g]) { if (!a[g]) { var i = "function" == typeof require && require; if (!h && i) return i(g, !0); if (f) return f(g, !0); var j = new Error("Cannot find module '" + g + "'"); throw j.code = "MODULE_NOT_FOUND", j } var k = c[g] = { exports: {} };
                        a[g][0].call(k.exports, function(b) { var c = a[g][1][b]; return e(c ? c : b) }, k, k.exports, b, a, c, d) } return c[g].exports } for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) e(d[g]); return e }({
                    1: [function(a, b, c) { b.exports = { oauthd_url: "https://oauth.io", oauthd_api: "https://oauth.io/api", version: "web-0.6.1", options: {} } }, {}],
                    2: [function(a, b, c) { "use strict";
                        b.exports = function(a) { var b, c; return b = a.getJquery(), c = function(c) { return function(c, d, e) { var f, g, h; return g = b.Deferred(), f = a.getOAuthdURL(), h = { url: f + d, type: c }, "post" === c || "put" === c ? (h.dataType = "json", h.contentType = "application/json", h.data = JSON.stringify(e)) : h.data = e, b.ajax(h).then(function(a) { return g.resolve(a) }, function(a) { return g.reject(a && a.responseJSON) }), g.promise() } }(this), { get: function(a) { return function(a, b) { return c("get", a, b) } }(this), post: function(a) { return function(a, b) { return c("post", a, b) } }(this), put: function(a) { return function(a, b) { return c("put", a, b) } }(this), del: function(a) { return function(a, b) { return c("delete", a, b) } }(this) } } }, {}],
                    3: [function(a, b, c) { "use strict"; var d, e, f, g, h, i;
                        g = a("../config"), e = a("../tools/url"), d = a("../tools/location_operations"), h = a("../tools/cookies"), i = a("../tools/lstorage"), f = a("../tools/cache"), b.exports = function(a, b, c, j) { var k, l, m; return e = e(b), l = d(b), m = i.active() && i || h, h.init(g, b), f.init(m, g), k = { initialize: function(a, b) { var c; if (g.key = a, b)
                                        for (c in b) g.options[c] = b[c] }, setOAuthdURL: function(a) { g.oauthd_url = a, g.oauthd_base = e.getAbsUrl(g.oauthd_url).match(/^.{2,5}:\/\/[^\/]+/)[0] }, getOAuthdURL: function() { return g.oauthd_url }, getVersion: function() { return g.version }, extend: function(a, b) { return this[a] = b(this) }, getConfig: function() { return g }, getWindow: function() { return a }, getDocument: function() { return b }, getNavigator: function() { return j }, getJquery: function() { return c }, getUrl: function() { return e }, getCache: function() { return f }, getStorage: function() { return m }, getLocationOperations: function() { return l } } } }, { "../config": 1, "../tools/cache": 9, "../tools/cookies": 10, "../tools/location_operations": 12, "../tools/lstorage": 13, "../tools/url": 15 }],
                    4: [function(a, b, c) { "use strict"; var d, e, f;
                        d = a("../tools/cookies"), e = a("./request"), f = a("../tools/sha1"), b.exports = function(b) { var c, g, h, i, j, k, l, m, n, o, p, q, r; return g = b.getUrl(), j = b.getConfig(), k = b.getDocument(), r = b.getWindow(), c = b.getJquery(), h = b.getCache(), q = a("./providers")(b), j.oauthd_base = g.getAbsUrl(j.oauthd_url).match(/^.{2,5}:\/\/[^\/]+/)[0], i = [], n = void 0, (p = function() { var a, b;
                                b = /[\\#&]oauthio=([^&]*)/.exec(k.location.hash), b && (k.location.hash = k.location.hash.replace(/&?oauthio=[^&]*/, ""), n = decodeURIComponent(b[1].replace(/\+/g, " ")), a = d.read("oauthio_state"), a && (i.push(a), d.erase("oauthio_state"))) })(), l = b.getLocationOperations(), o = { request: e(b, i, q) }, m = { initialize: function(a, c) { return b.initialize(a, c) }, setOAuthdURL: function(a) { j.oauthd_url = a, j.oauthd_base = g.getAbsUrl(j.oauthd_url).match(/^.{2,5}:\/\/[^\/]+/)[0] }, create: function(a, b, c) { var d, e, f, g; if (!b) return h.tryCache(m, a, !0); "object" != typeof c && q.fetchDescription(a), e = function(d) { return o.request.mkHttp(a, b, c, d) }, f = function(d, e) { return o.request.mkHttpEndpoint(a, b, c, d, e) }, g = {}; for (d in b) g[d] = b[d]; return g.toJson = function() { var a; return a = {}, null != g.access_token && (a.access_token = g.access_token), null != g.oauth_token && (a.oauth_token = g.oauth_token), null != g.oauth_token_secret && (a.oauth_token_secret = g.oauth_token_secret), null != g.expires_in && (a.expires_in = g.expires_in), null != g.token_type && (a.token_type = g.token_type), null != g.id_token && (a.id_token = g.id_token), null != g.provider && (a.provider = g.provider), null != g.email && (a.email = g.email), a }, g.get = e("GET"), g.post = e("POST"), g.put = e("PUT"), g.patch = e("PATCH"), g.del = e("DELETE"), g.me = o.request.mkHttpMe(a, b, c, "GET"), g }, popup: function(a, b, d) { var e, l, n, p, q, s, t, u, v, w, x; return p = !1, n = function(a) { if (!p) { if (a.origin !== j.oauthd_base) return; try { u.close() } catch (c) {} return b.data = a.data, o.request.sendCallback(b, e), p = !0 } }, u = void 0, l = void 0, v = void 0, e = c.Deferred(), b = b || {}, j.key ? (2 === arguments.length && "function" == typeof b && (d = b, b = {}), h.cacheEnabled(b.cache) && (s = h.tryCache(m, a, b.cache)) ? (null != e && e.resolve(s), d ? d(null, s) : e.promise()) : (b.state || (b.state = f.create_hash(), b.state_type = "client"), i.push(b.state), t = j.oauthd_url + "/auth/" + a + "?k=" + j.key, t += "&d=" + encodeURIComponent(g.getAbsUrl("/")), b && (t += "&opts=" + encodeURIComponent(JSON.stringify(b))), b.wnd_settings ? (x = b.wnd_settings, delete b.wnd_settings) : x = { width: Math.floor(.8 * r.outerWidth), height: Math.floor(.5 * r.outerHeight) }, x.width < 1e3 && (x.width = 1e3), x.height < 630 && (x.height = 630), x.left = Math.floor(r.screenX + (r.outerWidth - x.width) / 2), x.top = Math.floor(r.screenY + (r.outerHeight - x.height) / 8), w = "width=" + x.width + ",height=" + x.height, w += ",toolbar=0,scrollbars=1,status=1,resizable=1,location=1,menuBar=0", w += ",left=" + x.left + ",top=" + x.top, b = { provider: a, cache: b.cache }, b.callback = function(a, c) { return r.removeEventListener ? r.removeEventListener("message", n, !1) : r.detachEvent ? r.detachEvent("onmessage", n) : k.detachEvent && k.detachEvent("onmessage", n), b.callback = function() {}, v && (clearTimeout(v), v = void 0), d ? d(a, c) : void 0 }, r.attachEvent ? r.attachEvent("onmessage", n) : k.attachEvent ? k.attachEvent("onmessage", n) : r.addEventListener && r.addEventListener("message", n, !1), "undefined" != typeof chrome && chrome.runtime && chrome.runtime.onMessageExternal && chrome.runtime.onMessageExternal.addListener(function(a, b, c) { return a.origin = b.url.match(/^.{2,5}:\/\/[^\/]+/)[0], n(a) }), !l && (-1 !== navigator.userAgent.indexOf("MSIE") || navigator.appVersion.indexOf("Trident/") > 0) && (l = k.createElement("iframe"), l.src = j.oauthd_url + "/auth/iframe?d=" + encodeURIComponent(g.getAbsUrl("/")), l.width = 0, l.height = 0, l.frameBorder = 0, l.style.visibility = "hidden", k.body.appendChild(l)), v = setTimeout(function() { null != e && e.reject(new Error("Authorization timed out")), b.callback && "function" == typeof b.callback && b.callback(new Error("Authorization timed out")); try { u.close() } catch (a) {} }, 12e5), u = r.open(t, "Authorization", w), u ? (u.focus(), q = r.setInterval(function() { return null !== u && !u.closed || (r.clearInterval(q), p || (null != e && e.reject(new Error("The popup was closed")), !b.callback || "function" != typeof b.callback)) ? void 0 : b.callback(new Error("The popup was closed")) }, 500)) : (null != e && e.reject(new Error("Could not open a popup")), b.callback && "function" == typeof b.callback && b.callback(new Error("Could not open a popup"))), null != e ? e.promise() : void 0)) : (null != e && e.reject(new Error("OAuth object must be initialized")), null == d ? e.promise() : d(new Error("OAuth object must be initialized"))) }, redirect: function(a, b, c) { var e, i; if (2 === arguments.length && (c = b, b = {}), "string" != typeof c) throw new Error("You must specify an url"); return h.cacheEnabled(b.cache) && (i = h.tryCache(m, a, b.cache)) ? (c = g.getAbsUrl(c) + (-1 === c.indexOf("#") ? "#" : "&") + "oauthio=cache:" + a, l.changeHref(c), void l.reload()) : (b.state || (b.state = f.create_hash(), b.state_type = "client"), d.create("oauthio_state", b.state), e = encodeURIComponent(g.getAbsUrl(c)), c = j.oauthd_url + "/auth/" + a + "?k=" + j.key, c += "&redirect_uri=" + e, b && (c += "&opts=" + encodeURIComponent(JSON.stringify(b))), void l.changeHref(c)) }, isRedirect: function(a) { var b, c, d; if (null == n) return !1; if ("cache:" === (null != n ? n.substr(0, 6) : void 0)) return b = null != n ? n.substr(6) : void 0, a ? b.toLowerCase() === a.toLowerCase() : b; try { c = JSON.parse(n) } catch (e) { return d = e, !1 } return a ? c.provider.toLowerCase() === a.toLowerCase() : c.provider }, callback: function(a, b, d) { var e, f, g; if (e = c.Deferred(), 1 === arguments.length && "function" == typeof a && (d = a, a = void 0, b = {}), 1 === arguments.length && "string" == typeof a && (b = {}), 2 === arguments.length && "function" == typeof b && (d = b, b = {}), h.cacheEnabled(null != b ? b.cache : void 0) || "cache:" === (null != n ? n.substr(0, 6) : void 0))
                                        if (a || "cache:" !== (null != n ? n.substr(0, 6) : void 0) || (a = n.substr(6)), g = h.tryCache(m, a, !0)) { if (!d) return null != e && e.resolve(g), null != e ? e.promise() : void 0; if (g) return d(null, g) } else if ("cache:" === (null != n ? n.substr(0, 6) : void 0)) return f = new Error("Could not fetch data from cache"), d ? d(f) : (null != e && e.reject(f), null != e ? e.promise() : void 0); return n ? (o.request.sendCallback({ data: n, provider: a, cache: null != b ? b.cache : void 0, expires: null != b ? b.expires : void 0, callback: d }, e), null != e ? e.promise() : void 0) : void 0 }, clearCache: function(a) { return h.clearCache(a) }, http_me: function(a) { o.request.http_me && o.request.http_me(a) }, http: function(a) { o.request.http && o.request.http(a) }, getVersion: function() { return b.getVersion.apply(this) } } } }, { "../tools/cookies": 10, "../tools/sha1": 14, "./providers": 5, "./request": 6 }],
                    5: [function(a, b, c) { "use strict"; var d;
                        d = a("../config"), b.exports = function(a) { var b, c, e, f; return b = a.getJquery(), f = {}, e = {}, c = { execProvidersCb: function(a, b, c) { var d, f; if (e[a]) { d = e[a], delete e[a]; for (f in d) d[f](b, c) } }, fetchDescription: function(a) { f[a] || (f[a] = !0, b.ajax({ url: d.oauthd_api + "/providers/" + a, data: { extend: !0 }, dataType: "json" }).done(function(b) { f[a] = b.data, c.execProvidersCb(a, null, b.data) }).always(function() { "object" != typeof f[a] && (delete f[a], c.execProvidersCb(a, new Error("Unable to fetch request description"))) })) }, getDescription: function(a, b, d) { return b = b || {}, "object" == typeof f[a] ? d(null, f[a]) : (f[a] || c.fetchDescription(a), b.wait ? (e[a] = e[a] || [], void e[a].push(d)) : d(null, {})) } } } }, { "../config": 1 }],
                    6: [function(a, b, c) { "use strict"; var d, e = [].indexOf || function(a) { for (var b = 0, c = this.length; c > b; b++)
                                if (b in this && this[b] === a) return b;
                            return -1 };
                        d = a("../tools/url")(), b.exports = function(a, b, c) { var f, g, h, i, j; return f = a.getJquery(), h = a.getConfig(), g = a.getCache(), i = [], j = !1, { retrieveMethods: function() { var a; return a = f.Deferred(), j ? a.resolve(i) : f.ajax(h.oauthd_url + "/api/extended-endpoints").then(function(b) { return i = b.data, j = !0, a.resolve() }).fail(function(b) { return j = !0, a.reject(b) }), a.promise() }, generateMethods: function(a, b, c) { var d, e, f, g, h, j, k, l, m; if (null != i) { for (k = [], e = d = 0, g = i.length; g > d; e = ++d) l = i[e], h = l.name.split("."), j = a, k.push(function() { var a, d, e; for (e = [], f = a = 0, d = h.length; d > a; f = ++a) m = h[f], f < h.length - 1 ? (null == j[m] && (j[m] = {}), e.push(j = j[m])) : e.push(j[m] = this.mkHttpAll(c, b, l, arguments)); return e }.apply(this, arguments)); return k } }, http: function(a) { var b, g, i, j, k;
                                    i = function() { var a, b, c, g; if (g = k.oauthio.request || {}, !g.cors) { k.url = encodeURIComponent(k.url), "/" !== k.url[0] && (k.url = "/" + k.url), k.url = h.oauthd_url + "/request/" + k.oauthio.provider + k.url, k.headers = k.headers || {}, k.headers.oauthio = "k=" + h.key, k.oauthio.tokens.oauth_token && k.oauthio.tokens.oauth_token_secret && (k.headers.oauthio += "&oauthv=1"); for (b in k.oauthio.tokens) k.headers.oauthio += "&" + encodeURIComponent(b) + "=" + encodeURIComponent(k.oauthio.tokens[b]); return delete k.oauthio, f.ajax(k) } if (k.oauthio.tokens) { if (k.oauthio.tokens.access_token && (k.oauthio.tokens.token = k.oauthio.tokens.access_token), k.url.match(/^[a-z]{2,16}:\/\//) || ("/" !== k.url[0] && (k.url = "/" + k.url), k.url = g.url + k.url), k.url = d.replaceParam(k.url, k.oauthio.tokens, g.parameters), g.query) { c = []; for (a in g.query) c.push(encodeURIComponent(a) + "=" + encodeURIComponent(d.replaceParam(g.query[a], k.oauthio.tokens, g.parameters)));
                                                e.call(k.url, "?") >= 0 ? k.url += "&" + c : k.url += "?" + c } if (g.headers) { k.headers = k.headers || {}; for (a in g.headers) k.headers[a] = d.replaceParam(g.headers[a], k.oauthio.tokens, g.parameters) } return delete k.oauthio, f.ajax(k) } }, k = {}, j = void 0; for (j in a) k[j] = a[j]; return k.oauthio.request && k.oauthio.request !== !0 ? i() : (g = { wait: !!k.oauthio.request }, b = f.Deferred(), c.getDescription(k.oauthio.provider, g, function(a, c) { return a ? b.reject(a) : (k.oauthio.tokens.oauth_token && k.oauthio.tokens.oauth_token_secret ? k.oauthio.request = c.oauth1 && c.oauth1.request : k.oauthio.request = c.oauth2 && c.oauth2.request, void b.resolve()) }), b.then(i)) }, http_me: function(a) { var b, d, e, g, i;
                                    e = function() { var a, b, c, d;
                                        a = f.Deferred(), d = i.oauthio.request || {}, i.url = h.oauthd_url + "/auth/" + i.oauthio.provider + "/me", i.headers = i.headers || {}, i.headers.oauthio = "k=" + h.key, i.oauthio.tokens.oauth_token && i.oauthio.tokens.oauth_token_secret && (i.headers.oauthio += "&oauthv=1"); for (b in i.oauthio.tokens) i.headers.oauthio += "&" + encodeURIComponent(b) + "=" + encodeURIComponent(i.oauthio.tokens[b]); return delete i.oauthio, c = f.ajax(i), f.when(c).done(function(b) { a.resolve(b.data) }).fail(function(b) { b.responseJSON ? a.reject(b.responseJSON.data) : a.reject(new Error("An error occured while trying to access the resource")) }), a.promise() }, i = {}; for (g in a) i[g] = a[g]; return i.oauthio.request && i.oauthio.request !== !0 ? e() : (d = { wait: !!i.oauthio.request }, b = f.Deferred(), c.getDescription(i.oauthio.provider, d, function(a, c) { return a ? b.reject(a) : (i.oauthio.tokens.oauth_token && i.oauthio.tokens.oauth_token_secret ? i.oauthio.request = c.oauth1 && c.oauth1.request : i.oauthio.request = c.oauth2 && c.oauth2.request, void b.resolve()) }), b.then(e)) }, http_all: function(a, b, c) { var d; return (d = function() { var b, c, d, e;
                                        b = f.Deferred(), e = a.oauthio.request || {}, a.headers = a.headers || {}, a.headers.oauthio = "k=" + h.key, a.oauthio.tokens.oauth_token && a.oauthio.tokens.oauth_token_secret && (a.headers.oauthio += "&oauthv=1"); for (c in a.oauthio.tokens) a.headers.oauthio += "&" + encodeURIComponent(c) + "=" + encodeURIComponent(a.oauthio.tokens[c]); return delete a.oauthio, d = f.ajax(a), f.when(d).done(function(a) { var c; if ("string" == typeof a.data) try { a.data = JSON.parse(a.data) } catch (d) { c = d, a.data = a.data } finally { b.resolve(a.data) } }).fail(function(a) { a.responseJSON ? b.reject(a.responseJSON.data) : b.reject(new Error("An error occured while trying to access the resource")) }), b.promise() })() }, mkHttp: function(a, b, c, d) { var e; return e = this,
                                        function(f, g) { var h, i; if (i = {}, "string" == typeof f) { if ("object" == typeof g)
                                                    for (h in g) i[h] = g[h];
                                                i.url = f } else if ("object" == typeof f)
                                                for (h in f) i[h] = f[h]; return i.type = i.type || d, i.oauthio = { provider: a, tokens: b, request: c }, e.http(i) } }, mkHttpMe: function(a, b, c, d) { var e; return e = this,
                                        function(f) { var g; return g = {}, g.type = g.type || d, g.oauthio = { provider: a, tokens: b, request: c }, g.data = g.data || {}, f && (g.data.filter = f.join(",")), e.http_me(g) } }, mkHttpAll: function(a, b, c) { var d; return d = this,
                                        function() { var e, f, g, i;
                                            f = {}, f.type = c.method, f.url = h.oauthd_url + c.endpoint.replace(":provider", a), f.oauthio = { provider: a, tokens: b }, f.data = {}; for (e in arguments) i = arguments[e], g = c.params[e], null != g && (f.data[g.name] = i); return f.data = f.data || {}, d.http_all(f, c, arguments) } }, sendCallback: function(a, c) { var d, e, f, h, i, j, k, l, m;
                                    d = this, e = void 0, h = void 0; try { e = JSON.parse(a.data) } catch (n) { return f = n, c.reject(new Error("Error while parsing result")), a.callback(new Error("Error while parsing result")) } if (e && e.provider) { if (a.provider && e.provider.toLowerCase() !== a.provider.toLowerCase()) return h = new Error("Returned provider name does not match asked provider"), c.reject(h), a.callback && "function" == typeof a.callback ? a.callback(h) : void 0; if ("error" === e.status || "fail" === e.status) return h = new Error(e.message), h.body = e.data, c.reject(h), a.callback && "function" == typeof a.callback ? a.callback(h) : void 0; if ("success" !== e.status || !e.data) return h = new Error, h.body = e.data, c.reject(h), a.callback && "function" == typeof a.callback ? a.callback(h) : void 0; for (e.state = e.state.replace(/\s+/g, ""), i = 0; i < b.length;) b[i] = b[i].replace(/\s+/g, ""), i++; if (!e.state || -1 === b.indexOf(e.state)) return c.reject(new Error("State is not matching")), a.callback && "function" == typeof a.callback ? a.callback(new Error("State is not matching")) : void 0; if (a.provider || (e.data.provider = e.provider), l = e.data, l.provider = e.provider.toLowerCase(), g.cacheEnabled(a.cache) && l && (a.expires && !l.expires_in && (l.expires_in = a.expires), g.storeCache(e.provider, l)), k = l.request, delete l.request, m = void 0, l.access_token ? m = { access_token: l.access_token } : l.oauth_token && l.oauth_token_secret && (m = { oauth_token: l.oauth_token, oauth_token_secret: l.oauth_token_secret }), !k) return c.resolve(l), a.callback && "function" == typeof a.callback ? a.callback(null, l) : void 0; if (k.required)
                                            for (i in k.required) m[k.required[i]] = l[k.required[i]]; return j = function(a) { return d.mkHttp(e.provider, m, k, a) }, l.toJson = function() { var a; return a = {}, null != l.access_token && (a.access_token = l.access_token), null != l.oauth_token && (a.oauth_token = l.oauth_token), null != l.oauth_token_secret && (a.oauth_token_secret = l.oauth_token_secret), null != l.expires_in && (a.expires_in = l.expires_in), null != l.token_type && (a.token_type = l.token_type), null != l.id_token && (a.id_token = l.id_token), null != l.provider && (a.provider = l.provider), null != l.email && (a.email = l.email), a }, l.get = j("GET"), l.post = j("POST"), l.put = j("PUT"), l.patch = j("PATCH"), l.del = j("DELETE"), l.me = d.mkHttpMe(e.provider, m, k, "GET"), this.retrieveMethods().then(function(b) { return function() { return b.generateMethods(l, m, e.provider), c.resolve(l), a.callback && "function" == typeof a.callback ? a.callback(null, l) : void 0 } }(this)).fail(function(b) { return function(b) { return console.log("Could not retrieve methods", b), c.resolve(l), a.callback && "function" == typeof a.callback ? a.callback(null, l) : void 0 } }(this)) } } } } }, { "../tools/url": 15 }],
                    7: [function(a, b, c) { "use strict";
                        b.exports = function(a) { var b, c, d, e, f; return b = a.getJquery(), d = a.getConfig(), f = a.getStorage(), e = null, c = function() {
                                function c(a) { this.token = a.token, this.data = a.user, this.providers = a.providers, e = this.getEditableData() } return c.prototype.getEditableData = function() { var a, b;
                                    a = []; for (b in this.data) - 1 === ["id", "email"].indexOf(b) && a.push({ key: b, value: this.data[b] }); return a }, c.prototype.save = function() { var b, c, f, g, h, i, j, k; for (c = {}, f = 0, i = e.length; i > f; f++) b = e[f], this.data[b.key] !== b.value && (c[b.key] = this.data[b.key]), null === this.data[b.key] && delete this.data[b.key]; for (h = function(a) { var b, c, d; for (b = 0, c = e.length; c > b; b++)
                                                if (d = e[b], d.key === a) return !0;
                                            return !1 }, k = this.getEditableData(), g = 0, j = k.length; j > g; g++) b = k[g], h(b.key) || (c[b.key] = this.data[b.key]); return this.saveLocal(), a.API.put("/api/usermanagement/user?k=" + d.key + "&token=" + this.token, c) }, c.prototype.select = function(a) { var b; return b = null }, c.prototype.saveLocal = function() { var a; return a = { token: this.token, user: this.data, providers: this.providers }, f.erase("oio_auth"), f.create("oio_auth", JSON.stringify(a), 21600) }, c.prototype.hasProvider = function(a) { var b; return -1 !== (null != (b = this.providers) ? b.indexOf(a) : void 0) }, c.prototype.getProviders = function() { var c; return c = b.Deferred(), a.API.get("/api/usermanagement/user/providers?k=" + d.key + "&token=" + this.token).done(function(a) { return function(b) { return a.providers = b.data, a.saveLocal(), c.resolve(a.providers) } }(this)).fail(function(a) { return c.reject(a) }), c.promise() }, c.prototype.addProvider = function(c) { var e; return e = b.Deferred(), "function" == typeof c.toJson && (c = c.toJson()), c.email = this.data.email, this.providers.push(c.provider), a.API.post("/api/usermanagement/user/providers?k=" + d.key + "&token=" + this.token, c).done(function(a) { return function(b) { return a.data = b.data, a.saveLocal(), e.resolve() } }(this)).fail(function(a) { return function(b) { return a.providers.splice(a.providers.indexOf(c.provider), 1), e.reject(b) } }(this)), e.promise() }, c.prototype.removeProvider = function(c) { var e; return e = b.Deferred(), this.providers.splice(this.providers.indexOf(c), 1), a.API.del("/api/usermanagement/user/providers/" + c + "?k=" + d.key + "&token=" + this.token).done(function(a) { return function(b) { return a.saveLocal(), e.resolve(b) } }(this)).fail(function(a) { return function(b) { return a.providers.push(c), e.reject(b) } }(this)), e.promise() }, c.prototype.changePassword = function(b, c) { return a.API.post("/api/usermanagement/user/password?k=" + d.key + "&token=" + this.token, { password: c }) }, c.prototype.isLoggued = function() { return a.User.isLogged() }, c.prototype.isLogged = function() { return a.User.isLogged() }, c.prototype.logout = function() { var c; return c = b.Deferred(), f.erase("oio_auth"), a.API.post("/api/usermanagement/user/logout?k=" + d.key + "&token=" + this.token).done(function() { return c.resolve() }).fail(function(a) { return c.reject(a) }), c.promise() }, c }(), { initialize: function(b, c) { return a.initialize(b, c) }, setOAuthdURL: function(b) { return a.setOAuthdURL(b) }, signup: function(e) { var g; return g = b.Deferred(), "function" == typeof e.toJson && (e = e.toJson()), a.API.post("/api/usermanagement/signup?k=" + d.key, e).done(function(a) { return f.create("oio_auth", JSON.stringify(a.data), a.data.expires_in || 21600), g.resolve(new c(a.data)) }).fail(function(a) { return g.reject(a) }), g.promise() }, signin: function(e, g) { var h, i; return h = b.Deferred(), "string" == typeof e || g ? a.API.post("/api/usermanagement/signin?k=" + d.key, { email: e, password: g }).done(function(a) { return f.create("oio_auth", JSON.stringify(a.data), a.data.expires_in || 21600), h.resolve(new c(a.data)) }).fail(function(a) { return h.reject(a) }) : (i = e, "function" == typeof i.toJson && (i = i.toJson()), a.API.post("/api/usermanagement/signin?k=" + d.key, i).done(function(a) { return f.create("oio_auth", JSON.stringify(a.data), a.data.expires_in || 21600), h.resolve(new c(a.data)) }).fail(function(a) { return h.reject(a) })), h.promise() }, confirmResetPassword: function(b, c) { return a.API.post("/api/usermanagement/user/password?k=" + d.key, { password: b, token: c }) }, resetPassword: function(b, c) { return a.API.post("/api/usermanagement/user/password/reset?k=" + d.key, { email: b }) }, refreshIdentity: function() { var e; return e = b.Deferred(), a.API.get("/api/usermanagement/user?k=" + d.key + "&token=" + JSON.parse(f.read("oio_auth")).token).done(function(a) { return e.resolve(new c(a.data)) }).fail(function(a) { return e.reject(a) }), e.promise() }, getIdentity: function() { var a; return a = f.read("oio_auth"), a ? new c(JSON.parse(a)) : null }, isLogged: function() { var a; return a = f.read("oio_auth"), !!a } } } }, {}],
                    8: [function(b, c, d) {! function() { var e, f; return f = b("./tools/jquery-lite.js"), e = b("./lib/core")(window, document, f, navigator), e.extend("OAuth", b("./lib/oauth")), e.extend("API", b("./lib/api")), e.extend("User", b("./lib/user")), "undefined" != typeof angular && null !== angular && angular.module("oauthio", []).factory("OAuth", [function() { return e.OAuth }]).factory("User", [function() { return e.User }]), d.OAuthio = e, window.User = d.User = d.OAuthio.User, window.OAuth = d.OAuth = d.OAuthio.OAuth, "function" == typeof a && a.amd && a(function() { return d }), ("undefined" != typeof c && null !== c ? c.exports : void 0) && (c.exports = d), d }() }, { "./lib/api": 2, "./lib/core": 3, "./lib/oauth": 4, "./lib/user": 7, "./tools/jquery-lite.js": 11 }],
                    9: [function(a, b, c) { "use strict";
                        b.exports = { init: function(a, b) { return this.config = b, this.storage = a }, tryCache: function(a, b, c) { var d, e, f; if (this.cacheEnabled(c)) { if (c = this.storage.read("oauthio_provider_" + b), !c) return !1;
                                    c = decodeURIComponent(c) } if ("string" == typeof c) try { c = JSON.parse(c) } catch (g) { return d = g, !1 }
                                if ("object" == typeof c) { f = {}; for (e in c) "request" !== e && "function" != typeof c[e] && (f[e] = c[e]); return a.create(b, f, c.request) } return !1 }, storeCache: function(a, b) { var c;
                                c = 3600, b.expires_in ? c = b.expires_in : (this.config.options.expires || this.config.options.expires === !1) && (c = this.config.options.expires), this.storage.create("oauthio_provider_" + a, encodeURIComponent(JSON.stringify(b)), c) }, cacheEnabled: function(a) { return "undefined" == typeof a ? this.config.options.cache : a }, clearCache: function(a) { a ? this.storage.erase("oauthio_provider_" + a) : this.storage.eraseFrom("oauthio_provider_") } } }, {}],
                    10: [function(a, b, c) { "use strict";
                        b.exports = { init: function(a, b) { return this.config = a, this.document = b }, create: function(a, b, c) { var d;
                                this.erase(a), d = new Date, c ? d.setTime(d.getTime() + 1e3 * (c || 1200)) : d.setFullYear(d.getFullYear() + 3), c = "; expires=" + d.toGMTString(), this.document.cookie = a + "=" + b + c + "; path=/" }, read: function(a) { var b, c, d, e; for (e = a + "=", c = this.document.cookie.split(";"), d = 0; d < c.length;) { for (b = c[d];
                                        " " === b.charAt(0);) b = b.substring(1, b.length); if (0 === b.indexOf(e)) return b.substring(e.length, b.length);
                                    d++ } return null }, erase: function(a) { var b;
                                b = new Date, b.setTime(b.getTime() - 864e5), this.document.cookie = a + "=; expires=" + b.toGMTString() + "; path=/" }, eraseFrom: function(a) { var b, c, d, e, f; for (d = this.document.cookie.split(";"), e = 0, f = d.length; f > e; e++) c = d[e], b = c.split("=")[0].trim(), b.substr(0, a.length) === a && this.erase(b) } } }, {}],
                    11: [function(a, b, c) {
                                ! function(a, c) { "object" == typeof b && "object" == typeof b.exports ? b.exports = a.document ? c(a, !0) : function(a) { if (!a.document) throw new Error("jQuery requires a window with a document"); return c(a) } : c(a) }("undefined" != typeof window ? window : this, function(a, b) {
                                        function c(a) { var b = a.length,
                                                c = B.type(a); return "function" === c || B.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a }

                                        function d(a) { var b = L[a] = {}; return B.each(a.match(K) || [], function(a, c) { b[c] = !0 }), b }

                                        function e() { z.removeEventListener("DOMContentLoaded", e, !1), a.removeEventListener("load", e, !1), B.ready() }

                                        function f() { Object.defineProperty(this.cache = {}, 0, { get: function() { return {} } }), this.expando = B.expando + Math.random() }

                                        function g(a, b, c) { var d; if (void 0 === c && 1 === a.nodeType)
                                                if (d = "data-" + b.replace(Q, "-$1").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) { try { c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : P.test(c) ? B.parseJSON(c) : c } catch (e) {}
                                                    data_user.set(a, b, c) } else c = void 0;
                                            return c }

                                        function h() { return !0 }

                                        function i() { return !1 }

                                        function j() { try { return z.activeElement } catch (a) {} }

                                        function k(a) { return function(b, c) { "string" != typeof b && (c = b, b = "*"); var d, e = 0,
                                                    f = b.toLowerCase().match(K) || []; if (B.isFunction(c))
                                                    for (; d = f[e++];) "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c) } }

                                        function l(a, b, c, d) {
                                            function e(h) { var i; return f[h] = !0, B.each(a[h] || [], function(a, h) { var j = h(b, c, d); return "string" != typeof j || g || f[j] ? g ? !(i = j) : void 0 : (b.dataTypes.unshift(j), e(j), !1) }), i } var f = {},
                                                g = a === ga; return e(b.dataTypes[0]) || !f["*"] && e("*") }

                                        function m(a, b) { var c, d, e = B.ajaxSettings.flatOptions || {}; for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]); return d && B.extend(!0, a, d), a }

                                        function n(a, b, c) { for (var d, e, f, g, h = a.contents, i = a.dataTypes;
                                                "*" === i[0];) i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type")); if (d)
                                                for (e in h)
                                                    if (h[e] && h[e].test(d)) { i.unshift(e); break }
                                            if (i[0] in c) f = i[0];
                                            else { for (e in c) { if (!i[0] || a.converters[e + " " + i[0]]) { f = e; break }
                                                    g || (g = e) }
                                                f = f || g } return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0 }

                                        function o(a, b, c, d) { var e, f, g, h, i, j = {},
                                                k = a.dataTypes.slice(); if (k[1])
                                                for (g in a.converters) j[g.toLowerCase()] = a.converters[g]; for (f = k.shift(); f;)
                                                if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())
                                                    if ("*" === f) f = i;
                                                    else if ("*" !== i && i !== f) { if (g = j[i + " " + f] || j["* " + f], !g)
                                                    for (e in j)
                                                        if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) { g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1])); break }
                                                if (g !== !0)
                                                    if (g && a["throws"]) b = g(b);
                                                    else try { b = g(b) } catch (l) { return { state: "parsererror", error: g ? l : "No conversion from " + i + " to " + f } } } return { state: "success", data: b } }

                                        function p(a, b, c, d) { var e; if (B.isArray(b)) B.each(b, function(b, e) { c || ka.test(a) ? d(a, e) : p(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d) });
                                            else if (c || "object" !== B.type(b)) d(a, b);
                                            else
                                                for (e in b) p(a + "[" + e + "]", b[e], c, d) }
                                        var q = [],
                                            r = q.slice,
                                            s = q.concat,
                                            t = q.push,
                                            u = q.indexOf,
                                            v = {},
                                            w = v.toString,
                                            x = v.hasOwnProperty,
                                            y = {},
                                            z = a.document,
                                            A = "2.1.1 -attributes,-attributes/attr,-attributes/classes,-attributes/prop,-attributes/support,-attributes/val,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-css,-effects,-effects/Tween,-effects/animatedSelector,-dimensions,-offset,-data/var/data_user,-deprecated,-event/alias,-event/support,-intro,-manipulation/_evalUrl,-manipulation/support,-manipulation/var,-manipulation/var/rcheckableType,-manipulation,-outro,-queue,-queue/delay,-selector-native,-selector-sizzle,-sizzle/dist,-sizzle/dist/sizzle,-sizzle/dist/min,-sizzle/test,-sizzle/test/jquery,-traversing,-traversing/findFilter,-traversing/var/rneedsContext,-traversing/var,-wrap,-exports,-exports/amd",
                                            B = function(a, b) { return new B.fn.init(a, b) },
                                            C = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
                                            D = /^-ms-/,
                                            E = /-([\da-z])/gi,
                                            F = function(a, b) { return b.toUpperCase() };
                                        B.fn = B.prototype = { jquery: A, constructor: B, selector: "", length: 0, toArray: function() { return r.call(this) }, get: function(a) { return null != a ? 0 > a ? this[a + this.length] : this[a] : r.call(this) }, pushStack: function(a) { var b = B.merge(this.constructor(), a); return b.prevObject = this, b.context = this.context, b }, each: function(a, b) { return B.each(this, a, b) }, map: function(a) { return this.pushStack(B.map(this, function(b, c) { return a.call(b, c, b) })) }, slice: function() { return this.pushStack(r.apply(this, arguments)) }, first: function() { return this.eq(0) }, last: function() { return this.eq(-1) }, eq: function(a) { var b = this.length,
                                                    c = +a + (0 > a ? b : 0); return this.pushStack(c >= 0 && b > c ? [this[c]] : []) }, end: function() { return this.prevObject || this.constructor(null) }, push: t, sort: q.sort, splice: q.splice }, B.extend = B.fn.extend = function() { var a, b, c, d, e, f, g = arguments[0] || {},
                                                h = 1,
                                                i = arguments.length,
                                                j = !1; for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || B.isFunction(g) || (g = {}), h === i && (g = this, h--); i > h; h++)
                                                if (null != (a = arguments[h]))
                                                    for (b in a) c = g[b], d = a[b], g !== d && (j && d && (B.isPlainObject(d) || (e = B.isArray(d))) ? (e ? (e = !1, f = c && B.isArray(c) ? c : []) : f = c && B.isPlainObject(c) ? c : {}, g[b] = B.extend(j, f, d)) : void 0 !== d && (g[b] = d));
                                            return g }, B.extend({ expando: "jQuery" + (A + Math.random()).replace(/\D/g, ""), isReady: !0, error: function(a) { throw new Error(a) }, noop: function() {}, isFunction: function(a) { return "function" === B.type(a) }, isArray: Array.isArray, isWindow: function(a) { return null != a && a === a.window }, isNumeric: function(a) { return !B.isArray(a) && a - parseFloat(a) >= 0 }, isPlainObject: function(a) { return "object" !== B.type(a) || a.nodeType || B.isWindow(a) ? !1 : !a.constructor || x.call(a.constructor.prototype, "isPrototypeOf") }, isEmptyObject: function(a) { var b; for (b in a) return !1; return !0 }, type: function(a) { return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? v[w.call(a)] || "object" : typeof a }, globalEval: function(a) { var b, c = eval;
                                                a = B.trim(a), a && (1 === a.indexOf("use strict") ? (b = z.createElement("script"), b.text = a, z.head.appendChild(b).parentNode.removeChild(b)) : c(a)) }, camelCase: function(a) { return a.replace(D, "ms-").replace(E, F) }, nodeName: function(a, b) { return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase() }, each: function(a, b, d) { var e, f = 0,
                                                    g = a.length,
                                                    h = c(a); if (d) { if (h)
                                                        for (; g > f && (e = b.apply(a[f], d), e !== !1); f++);
                                                    else
                                                        for (f in a)
                                                            if (e = b.apply(a[f], d), e === !1) break } else if (h)
                                                    for (; g > f && (e = b.call(a[f], f, a[f]), e !== !1); f++);
                                                else
                                                    for (f in a)
                                                        if (e = b.call(a[f], f, a[f]), e === !1) break; return a }, trim: function(a) { return null == a ? "" : (a + "").replace(C, "") }, makeArray: function(a, b) { var d = b || []; return null != a && (c(Object(a)) ? B.merge(d, "string" == typeof a ? [a] : a) : t.call(d, a)), d }, inArray: function(a, b, c) { return null == b ? -1 : u.call(b, a, c) }, merge: function(a, b) { for (var c = +b.length, d = 0, e = a.length; c > d; d++) a[e++] = b[d]; return a.length = e, a }, grep: function(a, b, c) { for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++) d = !b(a[f], f), d !== h && e.push(a[f]); return e }, map: function(a, b, d) { var e, f = 0,
                                                    g = a.length,
                                                    h = c(a),
                                                    i = []; if (h)
                                                    for (; g > f; f++) e = b(a[f], f, d), null != e && i.push(e);
                                                else
                                                    for (f in a) e = b(a[f], f, d), null != e && i.push(e); return s.apply([], i) }, guid: 1, proxy: function(a, b) { var c, d, e; return "string" == typeof b && (c = a[b], b = a, a = c), B.isFunction(a) ? (d = r.call(arguments, 2), e = function() { return a.apply(b || this, d.concat(r.call(arguments))) }, e.guid = a.guid = a.guid || B.guid++, e) : void 0 }, now: Date.now, support: y }), B.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) { v["[object " + b + "]"] = b.toLowerCase() });
                                        var G, H = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
                                            I = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
                                            J = B.fn.init = function(a, b) {
                                                var c, d;
                                                if (!a) return this;
                                                if ("string" == typeof a) {
                                                    if (c = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : I.exec(a), !c || !c[1] && b) return !b || b.jquery ? (b || G).find(a) : this.constructor(b).find(a);
                                                    if (c[1]) { if (b = b instanceof B ? b[0] : b, B.merge(this, B.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : z, !0)), H.test(c[1]) && B.isPlainObject(b))
                                                            for (c in b) B.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]); return this }
                                                    return d = z.getElementById(c[2]), d && d.parentNode && (this.length = 1, this[0] = d), this.context = z,